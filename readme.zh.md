# Repo2Doc Agent

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.12+](https://img.shields.io/badge/python-3.12+-blue.svg)](https://www.python.org/downloads/)

**ğŸ”„ [English](./readme.md)**

åŸºäº LangGraph çš„ Agent é©±åŠ¨ä»£ç åº“éœ€æ±‚æ–‡æ¡£ç”Ÿæˆå·¥å…·ã€‚ä¸ä¼ ç»Ÿå¢é‡å¼æ–¹æ¡ˆä¸åŒï¼Œæœ¬å·¥å…·é‡‡ç”¨ **ä¸»åŠ¨æ¢ç´¢** ç­–ç•¥ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ¤– **Agent é©±åŠ¨æ¢ç´¢** - è‡ªä¸»è°ƒç”¨å·¥å…·æ¢ç´¢ä»£ç åº“
- ğŸ”„ **è¿­ä»£ä¼˜åŒ–** - è‡ªä¸»åˆ¤æ–­æ–‡æ¡£å®Œæ•´æ€§å¹¶æŒç»­è¿­ä»£
- ğŸ› ï¸ **ä¸°å¯Œçš„å·¥å…·é›†** - æ–‡ä»¶è¯»å–ã€ä»£ç åˆ†æã€ä»£ç æœç´¢
- ğŸ“Š **ç½®ä¿¡åº¦è¯„åˆ†** - ä¸ºç”Ÿæˆçš„æ–‡æ¡£æä¾›ç½®ä¿¡åº¦åˆ†æ•°
- ğŸ“ˆ **è¯¦ç»†ç»Ÿè®¡** - è·Ÿè¸ª token ä½¿ç”¨é‡å’Œå·¥å…·è°ƒç”¨æŒ‡æ ‡

## ğŸ—ï¸ å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      åˆå§‹åŒ–         â”‚  æ”¶é›† READMEã€ç›®å½•ç»“æ„ã€é…ç½®æ–‡ä»¶
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ç”Ÿæˆæ–‡æ¡£         â”‚â—„â”€â”€â”€â”€â”€â”€â”  ç”Ÿæˆ/æ›´æ–°éœ€æ±‚æ–‡æ¡£
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
           â”‚                  â”‚
           â–¼                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   å®Œæ•´æ€§æ£€æŸ¥        â”‚       â”‚  LLM è¯„ä¼°æ–‡æ¡£è´¨é‡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
           â”‚                  â”‚
        å®Œæ•´ï¼Ÿ                â”‚
      /        \              â”‚
    æ˜¯          å¦            â”‚
     â”‚           â”‚            â”‚
     â–¼           â–¼            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  ä¿å­˜   â”‚  â”‚  æ‰§è¡Œå·¥å…·   â”‚â”€â”€â”˜  è°ƒç”¨å·¥å…·è·å–æ›´å¤šä¿¡æ¯
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
cd repo2docAgent
uv sync
```

### é…ç½®

1. åˆ›å»º `.env` æ–‡ä»¶ï¼š
```bash
cp .env.example .env
```

2. è®¾ç½® API å¯†é’¥ï¼š
```bash
OPENAI_API_KEY="your-api-key-here"
```

3. ï¼ˆå¯é€‰ï¼‰è‡ªå®šä¹‰ `config.yaml`ï¼š
```yaml
agent:
  max_iterations: 10
  max_tool_calls_per_iteration: 5

llm:
  model: "gpt-4o"
  temperature: 0.3
```

### ä½¿ç”¨

```bash
# åŸºæœ¬ç”¨æ³•
uv run python main.py /path/to/repo

# è¯¦ç»†æ¨¡å¼ï¼ˆæ˜¾ç¤ºæ‰€æœ‰ LLM è°ƒç”¨å’Œå·¥å…·æ‰§è¡Œï¼‰
uv run python main.py /path/to/repo -v

# é™åˆ¶è¿­ä»£æ¬¡æ•°
uv run python main.py /path/to/repo -m 5
```

## ğŸ› ï¸ å¯ç”¨å·¥å…·

Agent å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·æ¢ç´¢ä»£ç åº“ï¼š

| å·¥å…· | æè¿° |
|------|------|
| `get_file_content` | è¯»å–æ–‡ä»¶å†…å®¹ |
| `get_directory_tree` | è·å–ç›®å½•ç»“æ„ |
| `list_files_by_extension` | æŒ‰æ‰©å±•ååˆ—å‡ºæ–‡ä»¶ |
| `get_file_outline` | è·å–æ–‡ä»¶å¤§çº²ï¼ˆç±»ã€å‡½æ•°ï¼‰ |
| `get_function_info` | è·å–å‡½æ•°è¯¦æƒ… |
| `get_class_info` | è·å–ç±»è¯¦æƒ… |
| `search_code` | å…¨å±€ä»£ç æœç´¢ |
| `search_imports` | æœç´¢å¯¼å…¥è¯­å¥ |

## ğŸ“ è¾“å‡ºç»“æ„

```
repo2docAgent-output/
â”œâ”€â”€ requirements.md              # æœ€ç»ˆéœ€æ±‚æ–‡æ¡£
â”œâ”€â”€ {timestamp}_requirements.md  # å¸¦æ—¶é—´æˆ³çš„å¤‡ä»½
â”œâ”€â”€ {timestamp}_report.md        # æ¢ç´¢æŠ¥å‘Š
â”œâ”€â”€ {timestamp}_stats.json       # Token ä½¿ç”¨é‡å’Œå·¥å…·ç»Ÿè®¡
â””â”€â”€ intermediate/                # æ–‡æ¡£ç‰ˆæœ¬å†å²ï¼ˆå¦‚æœå¯ç”¨ï¼‰
    â”œâ”€â”€ version_1.md
    â”œâ”€â”€ version_2.md
    â””â”€â”€ ...
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
repo2docAgent/
â”œâ”€â”€ main.py              # å‘½ä»¤è¡Œå…¥å£
â”œâ”€â”€ agent_workflow.py    # LangGraph Agent å·¥ä½œæµ
â”œâ”€â”€ state.py             # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ config_loader.py     # é…ç½®åŠ è½½å™¨
â”œâ”€â”€ nodes/               # å·¥ä½œæµèŠ‚ç‚¹
â”‚   â”œâ”€â”€ init_node.py     # åˆå§‹åŒ–
â”‚   â”œâ”€â”€ doc_node.py      # æ–‡æ¡£ç”Ÿæˆ
â”‚   â”œâ”€â”€ check_node.py    # å®Œæ•´æ€§æ£€æŸ¥
â”‚   â”œâ”€â”€ tool_node.py     # å·¥å…·æ‰§è¡Œ
â”‚   â””â”€â”€ save_node.py     # è¾“å‡ºä¿å­˜
â”œâ”€â”€ tools/               # Agent å·¥å…·
â”‚   â”œâ”€â”€ file_tools.py    # æ–‡ä»¶æ“ä½œ
â”‚   â”œâ”€â”€ code_tools.py    # ä»£ç åˆ†æ
â”‚   â””â”€â”€ search_tools.py  # ä»£ç æœç´¢
â””â”€â”€ prompts/             # æç¤ºè¯æ¨¡æ¿
    â””â”€â”€ agent_prompts.py
```

## ğŸ†š å¯¹æ¯”ï¼šRepo2Doc vs Repo2Doc Agent

| æ–¹é¢ | Repo2Doc | Repo2Doc Agent |
|------|----------|----------------|
| **æ–¹æ³•** | å¢é‡åˆ†å— | Agent æ¢ç´¢ |
| **æ–‡ä»¶è®¿é—®** | é¢„å…ˆåŠ è½½æ‰€æœ‰æ–‡ä»¶ | æŒ‰éœ€é€šè¿‡å·¥å…·è·å– |
| **è¿­ä»£** | æ¯ä¸ªå—å¤„ç†ä¸€æ¬¡ | å¤šè½®ä¼˜åŒ–å¾ªç¯ |
| **çµæ´»æ€§** | é¢„å…ˆè§„åˆ’ | è‡ªé€‚åº” |
| **é€‚ç”¨åœºæ™¯** | è¾ƒå°ä»£ç åº“ | å¤æ‚é¡¹ç›® |

## ğŸ“„ è®¸å¯è¯

MIT License

---

**ç›¸å…³é¡¹ç›®**ï¼š[Repo2Doc](../repo2doc) - å¢é‡åˆ†å—å˜ä½“ç‰ˆæœ¬ã€‚
